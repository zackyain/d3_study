<!--用比例尺画矩形-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>
<script>
    var width = 300;
    var height = 300;
    var svg = d3.select('body') //选择body标签
        .append('svg') //向body标签中append一个svg
        .attr('width', width) //给svg设置宽度
        .attr('height', height) //给svg设置高度
        .attr('style', 'background-color: #fafafa'); //给svg设置背景色为#2c2c2c
    var dataset = [25, 21, 17, 13, 29]; //数据（表示矩形的宽度）
    var rectHeight = 45; //每个矩形所占的像素高度（包括空白）
    var linear = d3.scale.linear()
        .domain([0, 30])
        .range([0, 250]);   // 注意！scale后边没括号
    console.log('dataset:', dataset);
    console.log('max:', linear(25));
    svg.selectAll('rect')
        .data(dataset)
        .enter()
        .append('rect')
        .attr('x', 20)
        .attr('y', function(d, i){
            return i*rectHeight+20;
        })
        .attr('width', function(d, i){
            return linear(d);
        })
        .attr('height', rectHeight-10)
        .attr('fill', 'steelblue')
</script>
</body>
</html>